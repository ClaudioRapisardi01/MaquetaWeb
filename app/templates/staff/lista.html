{% extends "base.html" %}
{% block title %}Staff{% endblock %}
{% block content %}
<div class="d-flex justify-between align-center mb-3">
    <h1 style="font-size: 2rem; font-weight: 700;">Staff</h1>
    {% if current_user.is_admin() %}<a href="{{ url_for('staff.nuovo') }}" class="btn btn-primary"><i class="fas fa-plus"></i> Nuovo Membro</a>{% endif %}
</div>
<div class="grid grid-3">
    {% for membro in staff %}
    <div class="card" style="text-align: center;">
        {% if membro.foto %}
        <img src="{{ url_for('static', filename='uploads/images/' + membro.foto) }}" style="width: 120px; height: 120px; border-radius: 50%; margin: 0 auto 1rem; object-fit: cover;">
        {% else %}
        <div style="width: 120px; height: 120px; border-radius: 50%; margin: 0 auto 1rem; background: linear-gradient(135deg, #64748b, #475569); display: flex; align-items: center; justify-content: center;">
            <i class="fas fa-user" style="font-size: 3rem; color: white;"></i>
        </div>
        {% endif %}
        <h3 style="margin-bottom: 0.5rem;">{{ membro.nome }} {{ membro.cognome }}</h3>
        <p style="color: #dc2626; font-weight: 600; font-size: 0.875rem; margin-bottom: 0.5rem;">{{ membro.ruolo }}</p>
        <p style="color: #64748b; font-size: 0.875rem; margin-bottom: 1rem;">{{ membro.reparto }}</p>
        <div class="d-flex gap-1" style="justify-content: center;">
            <a href="{{ url_for('staff.dettaglio', id=membro.id) }}" class="btn btn-sm btn-primary"><i class="fas fa-eye"></i></a>
            {% if current_user.is_admin() %}
            <a href="{{ url_for('staff.modifica', id=membro.id) }}" class="btn btn-sm btn-warning"><i class="fas fa-edit"></i></a>
            <a href="{{ url_for('staff.elimina', id=membro.id) }}" class="btn btn-sm btn-danger"><i class="fas fa-trash"></i></a>
            {% endif %}
        </div>
    </div>
    {% else %}
    <div class="card" style="grid-column: 1/-1; text-align: center; padding: 3rem;"><p style="color: #64748b;">Nessun membro staff trovato</p></div>
    {% endfor %}
</div>
{% endblock %}
